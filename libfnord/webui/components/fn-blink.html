<!--
  This file is part of the "FnordMetric" project
    Copyright (c) 2014 Laura Schlimmer
    Copyright (c) 2014 Paul Asmuth, Google Inc.

  FnordMetric is free software: you can redistribute it and/or modify it under
  the terms of the GNU General Public License v3.0. You should have received a
  copy of the GNU General Public License along with this program. If not, see
  <http://www.gnu.org/licenses/>.
-->
<template id="fn-blink-base-tpl">
  <style type="text/css">
    .blink {
      animation: blink 1s steps(5, start) infinite;
      -webkit-animation: blink 1s steps(5, start) infinite;
    }
    @keyframes blink {
      to {
        visibility: hidden;
        color: #f00;
      }
    }
    @-webkit-keyframes blink {
      to {
        visibility: hidden;
        color: #f00;
      }
    }
  </style>
  <span class="blink">
    <content />
  </span>
</template>

<script type="text/javascript">
  var BlinkComponent = function() {
    this.createdCallback = function() {
      var shadow = this.createShadowRoot();
      var tpl = Fnord.getTemplate("fn-blink", "base");
      shadow.appendChild(tpl);
    };
  };

  window.addEventListener("fn-ready", function() {
    Fnord.registerComponent("fn-blink", BlinkComponent);
  }, false);
</script>
