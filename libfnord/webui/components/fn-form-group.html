<!--
  This file is part of the "FnordMetric" project
    Copyright (c) 2014 Laura Schlimmer
    Copyright (c) 2014 Paul Asmuth, Google Inc.

  FnordMetric is free software: you can redistribute it and/or modify it under
  the terms of the GNU General Public License v3.0. You should have received a
  copy of the GNU General Public License along with this program. If not, see
  <http://www.gnu.org/licenses/>.
-->
<template id="fn-form-group-base-tpl">
  <style type="text/css">
    .group {
      position: relative;
      max-width: 100%;
      display:block;
    }

    .group > h3 {
      font-size: 1.071rem;
      border: none;
      margin: -webkit-calc(2rem - .165em) 0 1rem;
      margin: calc(2rem - .165em) 0 1rem;
      padding: 0;
      font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif;
      font-weight: 700;
      line-height: 1.33em;
      text-transform: none;
      color: rgba(0,0,0,.8);
      padding-bottom: .25rem;
      border-bottom: 1px solid rgba(0,0,0,.1);
      width: 100%;
      display: block;
    }

    .fields {
      display: block;
      width: 100%;
    }

    .fields fn-input {
      float:left;
      padding-left: .5em;
      padding-right: .5em;
    }

    .fields fn-input:first-child {
      padding-left: 0px;
    }

    .fields fn-input:last-child {
      padding-right: 0px;
    }

  </style>
  <div class="group">
    <h3><content select="fn-form-group-header"></content></h3>
    <div class="fields">
      <content></content>
    </div>
  </div>
</template>

<script type="text/javascript">
  var FormGroupComponent = function() {
    this.createdCallback = function() {
      var tpl = Fnord.getTemplate("fn-form-group", "base");
      console.log(tpl);
      var shadow = this.createShadowRoot();
      shadow.appendChild(tpl);

      var inputs = this.querySelectorAll("fn-input");
      width = 100 / inputs.length;
      for (var i = 0; i < inputs.length; i++) {
        inputs[i].style.width = width + "%";
      }

    }
  }

  window.addEventListener('fn-ready', function() {
    Fnord.registerComponent("fn-form-group", FormGroupComponent);
  }, false);
</script>
