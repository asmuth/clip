<div class="colorbg intro">
  <div id="wrap" class="<%= @doc_yield ? :large : nil %>" style="padding-top:15px;">
      <div id="header">
        <a class="menu" href="/documentation/support">Support</a>
        <a class="menu" href="http://github.com/paulasmuth/fnordmetric" target="_blank">Github</a>
        <a class="menu" href="/documentation/installation">Download</a>
        <a class="menu" href="/documentation">Documentation</a>
        <a class="menu" href="/examples">Examples</a>
        <h1><a href="/">FnordMetric</a></h1>
      </div>

      <div class="jumbotron">
        <h1>Create charts and dashboards from SQL</h1>
        <p class="lead" style="margin-bottom: 40px;">
          FnordMetric allows you to write SQL queries that return SVG charts rather than tables. Turning a query result into a chart is literally one line of code.
        </p>
        <a class="fancybutton-light" href="/examples">See Examples &rarr;</a>
        <a class="fancybutton-light" href="/documentation">Read the Documentation &rarr;</a>
      </div>

      <div class="scroll_hint">
        <div class="ico"><div class="tri"></div></div>
        Scroll Down
      </div>
      <script type="text/javascript">
        window.onscroll = function (e) {
          var elem = document.body.querySelector(".scroll_hint");
          if (window.pageYOffset + window.innerHeight > 900) {
            elem.className = "scroll_hint hidden";
          } else {
            elem.className = "scroll_hint";
          }
        }
      </script>
      <br style="clear:both;" />
  </div>
</div>
<div id="wrap" style="min-height: 900px;">
  <section style="border-top: none; margin-top: 0;" class="whatisfnordmetric">
    <h1 style="margin-bottom: 20px;">FnordMetric ChartSQL</h1>

    <p>
      FnordMetric ChartSQL allows you to write SQL queries that return charts
      instead of tables. The charts are rendered as SVG vector graphics and can 
      easily be embedded into any website and customized with css in order to
      build beautiful dashboards:
    </p>

    <p>
      An example says more than a thousand words, so here is a simple ChartSQL
      query:
    </p>

<!--
    <p>
      FnordMetric is a fully powered SQL query engine but not a database on its
      own; it reads the input data from a number of external sources like MySQL
      databases or flat CSV files.
    </p>
    <p>
      You can use FnordMetric from the commandline, via the built-in web interface
      or embed it into your own application. FnordMetric is written in C++ and
      ships with language bindings for C, C++, PHP, Python and Ruby.
    </p>
-->

    <!--
        -> 100% open source, licensed as mit

        -> renders to svg
           -> completely customizable with css (examples)
           -> I can't believe its not javascript!
           -> scales automatgically (resize me)

FnordMetric UI is a HTML5 / JavaScript API that lets you plug real-time data and charts into any
webpage without writing a single line of code. It gives you maximum flexiblitiy as you have full
control over layout and style with HTML and CSS.
    -->

    <div style="margin: 40px auto; width: 600px;" class="fm_preview">
      <img src="/img/simple_line_chart.png" style="width:600px;" class="output" />
      <div class="input">
<pre class="prettyprint" class="input" style="margin-top: 0; text-align:left;"><code>IMPORT TABLE city_temperatures
   FROM 'csv:examples/data/city_temperatures.csv?headers=true';

DRAW LINECHART WITH
   AXIS BOTTOM;

SELECT city AS series, month AS x, temperature AS y
   FROM city_temperatures;
</code></pre>
      </div>
    </div>
    <div style="text-align: center; margin-top: -15px; margin-bottom: 40px;">
      Show:
      <a style="color:#2980b9;" href="#" onclick="javascript:document.querySelector('.fm_preview').className = 'fm_preview'; return false;">Source</a> |
      <a style="color:#2980b9" href="#" onclick="javascript:document.querySelector('.fm_preview').className = 'fm_preview show_output'; return false;">Output</a>
    </div>


    <p>
      You can execute ChartSQL queries from the command line against a number of
      external sources like CSV files or a MySQL database.
    </p>

    <code style="width: 580px;
display: block;
margin: 40px auto 20px auto;
text-align: left;
padding: 8px 10px;">$  fnordmetric-cli --format=svg my_chart_sql_query.sql</code>
  </section>

  <section class="whatisfnordmetric">
    <h1 style="margin-bottom: 20px;">FnordMetric Server</h1>

    <p>
      Fnordmetric Server is a standalone HTTP server application. It exposes a
      web UI and a HTTP API to run ChartSQL queries and collect timeseries data.
      You can use fnordmetric-server as a one-stop solution for metric collection
      and charting. Since fnordmetric-server aims to be a StatsD+graphite
      competitor, it implements a wire compatible StatsD API.
    </p>

    <div style="width:960px; margin:50px auto 40px auto; height:583px; overflow: hidden;" class="shadow">
      <video width="960" height="583" autoplay="autoplay" loop>
        <source src="/fnordmetric-server.mp4" type="video/mp4">
        <source src="/fnordmetric-server.webm" type="video/webm">
        <img src="/img/fnordmetric_server_screen.png" width="875" />
      </video>
    </div>

    <p>
      FnordMetric Server can store the collected timeseries data on local disk or
      in external storage (HBase).
    </p>

  </section>

  <section class="whatisfnordmetric noborder" style="margin-bottom:140px;">
    <h1 style="margin-bottom: 20px;">Getting Started</h1>

    <p>
      FnordMetric is free software and licensed under the GNU General Public License v3.0.
      You can use and modify it according to the terms of the license.
    </p>
    <p>
      We have three 5 minute getting started guides and a number of examples for impatient
      people who don't like reading documentation (like the author). 
    </p>

    <a class="fancybutton" href="/examples">See Examples &rarr;</a>
    <a class="fancybutton" href="/documentation">Read the Documentation &rarr;</a>
  </section>
</div>
