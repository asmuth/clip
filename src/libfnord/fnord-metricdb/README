
global opts:

  ?format={svg,json,csv}

  &width=<val>
  &height=<val>

  &title=<str>
  &subtitle=<str>
  &grid={horizontal,vertical,both}
  &legend={topleftinside,topleftoutside,toprightinside,toprightoutside,bottomleftinside,bottomleftoutside,bottomrightinside,bottomrightoutside}
  &legend_title=<title>

  &min=<val>
  &max=<val>

  &logarithmic={true,false}
  &inverted={true,false}

  &axis_left={true,false}
  &axis_bottom={true,false}
  &axis_right={true,false}
  &axis_top={true,false}

  &from=<timespec>
  &until=<timespec>

per metric:

  &metric=<key>
  &scale=<factor>
  &aggr_fn={sum,max,min}
  &aggr_window=<secs>
  &aggr_step=<secs>
  &join_with=<key>
  &join_fn={divide,multiply}
  &join_aggr_fn={sum,max,min}
  &group_by=<field> ...

  &draw=<lines|areas>
  &color=<color>
  &line_style=<val>
  &line_width=<val>
  &point_style=<val>
  &point_size=<val>

