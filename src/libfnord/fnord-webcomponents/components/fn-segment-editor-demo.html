<!--
  This file is part of the "FnordMetric" project
    Copyright (c) 2015 Laura Schlimmer
    Copyright (c) 2015 Paul Asmuth, Google Inc.

  FnordMetric is free software: you can redistribute it and/or modify it under
  the terms of the GNU General Public License v3.0. You should have received a
  copy of the GNU General Public License along with this program. If not, see
  <http://www.gnu.org/licenses/>.
-->
<template id="fn-segment-editor-demo-base-tpl">

  <section>
    <fn-segment-editor id='editor1' data-loading >
      <template name='fn-segment-options'>
        <fn-segment-option data-key='lang' data-title='Language'>
          <fn-dropdown class='input' data-resolved data-segment-option>
            <fn-dropdown-header data-blank></fn-dropdown-header>
            <fn-dropdown-items>
              <fn-dropdown-item data-value='de' data-title='German'>
                German
              </fn-dropdown-item>
              <fn-dropdown-item data-value='fr' data-title='French'>
                French
              </fn-dropdown-item>
            </fn-dropdown-items>
          </fn-dropdown>
        </fn-segment-option>

        <fn-segment-option data-key='device_type' data-title='Device Type'>
          <fn-dropdown class='input checkbox' data-resolved data-segment-option>
            <fn-dropdown-items>
              <fn-dropdown-item data-value='desktop' data-title='Desktop'>
                <fn-checkbox></fn-checkbox>
                Desktop
              </fn-dropdown-item>
              <fn-dropdown-item data-value='mobile' data-title='Mobile'>
                <fn-checkbox></fn-checkbox>
                Mobile
              </fn-dropdown-item>
            </fn-dropdown-items>
          </fn-dropdown>
        </fn-segment-option>
      </template>
    </fn-segment-editor>

    <script type='text/javascript'>
      var editor = document.getElementById('editor1');
      var segments = [
        {
          'key' : 'french_mobile',
          'name' : 'French Mobile',
          'rules' : [
            {'field' : 'lang', 'opt' : 'matches', 'values' : ['fr']},
            {'field' : 'device_type', 'opt' : 'matches', 'values' : ['mobile', 'tablet']},
          ],
          'removable' : true,
          'editable' : true,
          'color' : '#4572a7'
        },
        {
          'key' : 'german',
          'name' : 'German',
          'rules' : [
            {'field' : 'lang', 'opt' : 'matches', 'values' : ['de']},
            {'field' : 'device_type', 'opt' : 'matches', 'values' : ['mobile', 'tablet']},
          ],
          'removable' : true,
          'editable' : true,
          'color' : '#89a54e'
        }
      ];

      //editor.addSegments(JSON.stringify(segments));
      editor.availableColors = ["#4572a7", "#89a54e", "#aa4643", "#80699b"];

      //remove loader
      window.setTimeout(function() {
        //editor.setAttribute('data-resolved', 'resolved');
      }, 2000);
    </script>
  </section>

  <section>
    <fn-segment-editor id='editor2' data-resolved data-show-recent>
      <template name='fn-segment-options'>
        <fn-segment-browse>
          <fn-segment-group>
            <fn-segment-group-title>User</fn-segment-group-title>

            <fn-segment-option data-key='lang' data-title='Language'>
              <fn-dropdown class='input' data-resolved data-segment-option>
                <fn-dropdown-header data-blank></fn-dropdown-header>
                <fn-dropdown-items>
                  <fn-dropdown-item data-value='de' data-title='German'>
                    German
                  </fn-dropdown-item>
                  <fn-dropdown-item data-value='fr' data-title='French'>
                    French
                  </fn-dropdown-item>
                </fn-dropdown-items>
              </fn-dropdown>
            </fn-segment-option>

            <fn-segment-option data-key='device_type' data-title='Device Type'>
              <fn-dropdown class='input checkbox' data-resolved data-segment-option>
                <fn-dropdown-items>
                  <fn-dropdown-item data-value='desktop' data-title='Desktop'>
                    <fn-checkbox></fn-checkbox>
                    Desktop
                  </fn-dropdown-item>
                  <fn-dropdown-item data-value='mobile' data-title='Mobile'>
                    <fn-checkbox></fn-checkbox>
                    Mobile
                  </fn-dropdown-item>
                </fn-dropdown-items>
              </fn-dropdown>
            </fn-segment-option>
          </fn-segment-group>

          <fn-segment-group>
            <fn-segment-group-title>Page</fn-segment-group-title>

            <fn-segment-option data-key='platform' data-title='Platform'>
              <fn-dropdown class='input' data-resolved data-segment-option>
                <fn-dropdown-header data-blank></fn-dropdown-header>
                <fn-dropdown-items>
                  <fn-dropdown-item data-value='de' data-title='DE'>
                    DE
                  </fn-dropdown-item>
                  <fn-dropdown-item data-value='fr' data-title='FR'>
                    FR
                  </fn-dropdown-item>
                  <fn-dropdown-item data-value='uk' data-title='UK'>
                    UK
                  </fn-dropdown-item>
                  <fn-dropdown-item data-value='us' data-title='US'>
                    US
                  </fn-dropdown-item>
                </fn-dropdown-items>
              </fn-dropdown>
            </fn-segment-option>

            <fn-segment-option data-key='page_type' data-title='Page Type'>
              <fn-dropdown class='input checkbox' data-resolved data-segment-option>
                <fn-dropdown-items>
                  <fn-dropdown-item data-value='catalog' data-title='Catalog'>
                    <fn-checkbox></fn-checkbox>
                    Catalog
                  </fn-dropdown-item>
                  <fn-dropdown-item data-value='search' data-title='Search'>
                    <fn-checkbox></fn-checkbox>
                    Search
                  </fn-dropdown-item>
                </fn-dropdown-items>
              </fn-dropdown>
            </fn-segment-option>

            <fn-segment-option data-key='search_query' data-title='Search Query'>
              <fn-dropdown class='input' data-resolved data-segment-option data-rule-opt>
                <fn-dropdown-items>
                  <fn-dropdown-item data-value='matches' data-title='Matches'>
                    Matches
                  </fn-dropdown-item>
                  <fn-dropdown-item data-value='begins_with'>
                    Begins With
                  </fn-dropdown-item>
                </fn-dropdown-items>
              </fn-dropdown>
              <fn-input placeholder='Search Query' data-segment-option></fn-input>
            </fn-segment-option>
          </fn-segment-group>
        </fn-segment-browse>
      </template>
    </fn-segment-editor>

    <script type='text/javascript'>
      var editor2 = document.getElementById('editor2');
      var segments = [
        {
          'key' : 'french_mobile',
          'name' : 'French Mobile',
          'rules' : [
            {'field' : 'lang', 'opt' : 'matches', 'values' : ['fr']},
            {'field' : 'device_type', 'opt' : 'matches', 'values' : ['mobile', 'tablet']},
          ],
          'removable' : true,
          'editable' : true,
          'color' : '#4572a7'
        },
        {
          'key' : 'teddy_de',
          'name' : 'Teddy (de)',
          'rules' : [
            {'field' : 'lang', 'opt' : 'matches', 'values' : ['de']},
            {'field' : 'platform', 'opt' : 'matches', 'values' : ['de']},
            {'field' : 'search_query', 'opt' : 'begins_with', 'values' : ['teddy']}
          ],
          'removable' : true,
          'editable' : true,
          'color' : '#89a54e'
        }
      ];

      var recent_segments = [
        {
          'key' : 'mobile_all',
          'name' : 'Mobile (all)',
          'rules' : [
            {'field' : 'device_type', 'opt' : 'matches', 'values' : ['mobile', 'tablet']},
          ],
          'removable' : true,
          'editable' : true,
          'color' : '#aa4643'
        },
        {
          'key' : 'catalog',
          'name' : 'Catalog',
          'rules' : [
            {'field' : 'page_type', 'opt' : 'matches', 'values' : ['catalog']},
          ],
          'removable' : true,
          'editable' : true,
          'color' : '#80699b'
        }
      ];


      editor2.addSegments(JSON.stringify(segments));
      editor2.availableColors = ["#4572a7", "#89a54e", "#aa4643", "#80699b"];

      editor2.loadRecentSegments = function(callback) {
        callback(recent_segments);
      }
    </script>
  </section>

</template>
