<!--
  This file is part of the "FnordMetric" project
    Copyright (c) 2015 Laura Schlimmer
    Copyright (c) 2015 Paul Asmuth

  FnordMetric is free software: you can redistribute it and/or modify it under
  the terms of the GNU General Public License v3.0. You should have received a
  copy of the GNU General Public License along with this program. If not, see
  <http://www.gnu.org/licenses/>.
-->
<template id="fn-metric-selector-demo-base-tpl">
  <section>
    <fn-button id='add_metrics'>Add Metrics</fn-button>
    <fn-metric-selector data-format='tree'>
    </fn-metric-selector>

    <script tpye='text/javascript'>
      var metrics = [
        {
          'name': 'Performance',
          'key': 'performance',
          'children': [
            {
              'name': 'HTTP',
              'key': 'http',
              'children': [
                {
                  'name': 'Load Time',
                  'key': 'load_time',
                  'description': '',
                  'children': []
                },
                {
                  'name': 'Response Time',
                  'key': 'response_time',
                  'description': '',
                  'children': []
                }
              ]
            }
          ]
        },
        {
          'name': 'Availability',
          'key': 'availability',
          'children': [
            {
              'name': 'Down Time',
              'key': 'down_time',
              'description': '',
              'children': []
            }
          ]
        }
      ];

      var metric_selector = document.querySelector("fn-metric-selector");
      metric_selector.setAttribute('data-metrics', JSON.stringify(metrics));

      document.getElementById("add_metrics").addEventListener('click', function() {
        metric_selector.show();
      }, false);
    </script>
  </section>

  <section>
    <fn-button id='metric_selector2_btn'>Show Metric Selector</fn-button>
    <fn-metric-selector data-format='group'>
    </fn-metric-selector>

    <script type='text/javascript'>
      var groupMetrics = {
        'Performance': [
          {
            'name': 'Load Time',
            'key': 'load_time',
            'description': ''
          },
          {
            'name': 'HTTP Response Time',
            'key': 'http_response_time',
            'description': 'The time the app needs to react to a http request'
          }
        ],
        'Availability': [
          {
            'name': 'Down Time',
            'key': 'down_time',
            'description': ''
          }
        ]
      };

      var groupMetricSelector = document.querySelector(
        "fn-metric-selector[data-format='group']");
      groupMetricSelector.setAttribute(
        'data-metrics', JSON.stringify(groupMetrics));

      document.getElementById('metric_selector2_btn').addEventListener('click', function() {
        groupMetricSelector.show();
      }, false);
    </script>
  </section>
</template>
